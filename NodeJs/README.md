# 京东H5短信码登录验证码识别训练接口文档
_~~默认规则+jd~~_
- [京东H5短信码登录验证码识别训练接口文档](#%E4%BA%AC%E4%B8%9CH5%E7%9F%AD%E4%BF%A1%E7%A0%81%E7%99%BB%E5%BD%95%E9%AA%8C%E8%AF%81%E7%A0%81%E8%AF%86%E5%88%AB%E8%AE%AD%E7%BB%83%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3)
  - [使用协议](#%E4%BD%BF%E7%94%A8%E5%8D%8F%E8%AE%AE)
  - [流程](#%E6%B5%81%E7%A8%8B)
  - [客户端数据格式](#%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F)
  - [服务端数据格式](#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F)

## 使用协议
`WebSocket`

## 流程
1. 客户端传入手机号
2. 服务端输入手机号触发验证码，回发验证码的`Base64`
3. 客户端传入验证码识别结果
4. 服务端根据识别结果提交，返回验证结果

## 客户端数据格式
1. 传入手机号格式
    ```Json
    {"account":"xxxxxx","token":"xxx"}
    ```

2. 传入识别结果格式
    ```Json
    { "errorcode": 0, "errormsg": "OK", "hit_point": [["165", "108"], ["163", "57"], ["82", "99"], ["99", "32"]], "id": "f88b99d2-a1f0-11e9-ab0a-246e968fa89c", "road_map": [[[165, 108, 0], [164, 106, 6], [164, 103, 12], [164, 101, 20], [164, 99, 23], [164, 97, 29], [164, 96, 35], [164, 95, 41], [164, 94, 50], [164, 94, 53], [164, 93, 59], [164, 93, 203], [164, 93, 227], [164, 92, 235], [164, 92, 240], [164, 91, 247], [164, 90, 251], [164, 89, 257], [164, 86, 263], [164, 85, 268], [164, 83, 275], [163, 81, 280], [163, 79, 286], [163, 77, 292], [163, 76, 298], [163, 74, 305], [163, 73, 310], [163, 72, 317], [163, 71, 323], [163, 70, 329], [163, 69, 335], [163, 69, 341], [163, 68, 346], [163, 67, 353], [163, 66, 359], [163, 66, 365], [163, 65, 370], [163, 65, 382], [163, 64, 406], [163, 64, 412], [163, 64, 436], [163, 63, 448], [163, 63, 454], [163, 62, 502], [163, 62, 520], [163, 61, 545], [163, 61, 592], [163, 61, 622], [163, 60, 658], [163, 60, 700], [163, 59, 730], [163, 59, 748], [163, 59, 820], [163, 58, 826], [163, 58, 838], [163, 58, 844], [163, 57, 964], [163, 57, 982], [163, 57, 1000]], [[163, 57, 0], [162, 57, 11], [162, 57, 14], [162, 57, 16], [161, 57, 17], [161, 57, 26], [160, 58, 31], [160, 58, 33], [159, 58, 38], [159, 58, 41], [159, 59, 45], [158, 59, 51], [158, 59, 54], [157, 59, 60], [157, 59, 65], [156, 60, 73], [156, 60, 80], [155, 60, 85], [155, 60, 92], [155, 61, 115], [154, 61, 117], [154, 61, 125], [153, 61, 130], [153, 62, 137], [152, 62, 140], [152, 62, 148], [151, 62, 155], [151, 62, 157], [151, 63, 163], [150, 63, 167], [150, 63, 171], [149, 63, 173], [149, 64, 176], [148, 64, 179], [148, 64, 182], [148, 64, 183], [147, 64, 185], [147, 65, 187], [146, 65, 189], [146, 65, 191], [145, 65, 194], [145, 66, 197], [144, 66, 198], [144, 66, 200], [144, 66, 202], [144, 66, 203], [143, 67, 204], [143, 67, 206], [142, 67, 208], [142, 67, 210], [141, 67, 213], [141, 68, 213], [140, 68, 215], [139, 69, 221], [139, 69, 222], [138, 69, 223], [136, 70, 228], [136, 70, 229], [135, 71, 230], [135, 71, 232], [134, 71, 233], [133, 72, 236], [132, 72, 237], [132, 72, 238], [131, 73, 240], [130, 73, 241], [129, 74, 244], [129, 74, 245], [129, 74, 246], [128, 74, 247], [128, 75, 248], [127, 75, 249], [126, 75, 252], [126, 76, 254], [125, 76, 256], [125, 76, 257], [124, 76, 258], [123, 77, 263], [123, 77, 264], [122, 78, 265], [122, 78, 266], [121, 78, 268], [120, 78, 269], [120, 79, 271], [119, 79, 272], [119, 79, 274], [118, 79, 277], [118, 80, 279], [118, 80, 280], [117, 80, 282], [116, 80, 285], [116, 81, 288], [115, 81, 289], [115, 81, 292], [115, 81, 295], [114, 82, 298], [114, 82, 302], [113, 82, 305], [113, 82, 308], [112, 83, 310], [112, 83, 314], [111, 83, 317], [111, 83, 321], [111, 83, 324], [110, 84, 328], [110, 84, 330], [109, 84, 331], [109, 84, 334], [108, 85, 336], [108, 85, 341], [107, 85, 343], [107, 85, 346], [107, 85, 349], [106, 86, 353], [106, 86, 355], [105, 86, 360], [104, 87, 366], [104, 87, 372], [104, 87, 379], [103, 87, 384], [103, 88, 391], [102, 88, 398], [102, 88, 404], [101, 88, 405], [101, 88, 410], [100, 89, 415], [100, 89, 416], [100, 89, 420], [99, 89, 421], [99, 90, 424], [98, 90, 425], [98, 90, 428], [97, 90, 429], [97, 91, 431], [96, 91, 434], [96, 91, 436], [96, 91, 438], [95, 91, 440], [95, 92, 443], [94, 92, 444], [94, 92, 450], [93, 92, 454], [93, 93, 455], [93, 93, 465], [92, 93, 474], [92, 93, 487], [91, 93, 489], [91, 94, 517], [90, 94, 519], [89, 94, 529], [89, 95, 545], [89, 95, 563], [88, 95, 565], [88, 95, 581], [87, 96, 593], [87, 96, 604], [87, 96, 607], [86, 96, 612], [86, 96, 625], [85, 96, 642], [85, 97, 647], [85, 97, 677], [84, 97, 696], [84, 97, 708], [83, 98, 751], [83, 98, 778], [82, 98, 806], [82, 98, 808], [82, 98, 981], [82, 99, 1000]], [[82, 99, 0], [82, 98, 7], [82, 98, 10], [82, 97, 14], [82, 97, 18], [82, 96, 21], [82, 95, 24], [83, 94, 28], [83, 93, 32], [83, 92, 35], [84, 90, 39], [84, 89, 43], [85, 86, 47], [85, 85, 50], [86, 82, 54], [86, 80, 57], [87, 78, 61], [88, 75, 65], [88, 72, 68], [89, 69, 72], [90, 66, 76], [91, 63, 79], [91, 60, 82], [92, 57, 86], [93, 55, 90], [93, 52, 94], [94, 49, 97], [94, 47, 101], [95, 45, 104], [96, 42, 108], [96, 40, 111], [97, 38, 115], [97, 36, 119], [98, 35, 123], [98, 33, 126], [99, 32, 129], [99, 31, 133], [99, 29, 137], [99, 28, 141], [99, 28, 144], [100, 27, 148], [100, 27, 151], [100, 26, 155], [100, 26, 158], [100, 25, 162], [100, 25, 169], [100, 25, 398], [100, 26, 405], [100, 26, 412], [100, 26, 427], [100, 27, 441], [100, 27, 470], [99, 28, 481], [99, 28, 510], [99, 29, 524], [99, 29, 547], [99, 29, 561], [99, 30, 568], [99, 30, 575], [99, 31, 716], [99, 31, 724], [99, 31, 731], [99, 32, 774], [99, 32, 1000]]] }
    ```

## 服务端数据格式
1. 验证码信息。**只识别轨迹验证码即可**
   + 单选验证码
     ```C
     单选验证码：验证码Base64
     ```
   + 多选验证码
     ```C
     多选验证码：验证码Base64
     ```
   + 轨迹验证码
     ```C
     轨迹验证码：验证码Base64
     ```
2. 验证结果
    ```C
     验证结果：xxx
    ```
3. 异常信息
    ```C
    采集异常：xxx
    ```
